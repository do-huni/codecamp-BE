<!DOCTYPE html>
<html lang = "ko">
	<head>
		<title>결제페이지</title>
		<script src="https://cdn.iamport.kr/v1/iamport.js"></script>
		<script>
			var IMP = window.IMP;
			IMP.init("imp71148055");

			const requestPay = () => {
				IMP.request_pay(
				{
					pg: "kakaopay",
					pay_method: "card",
					merchant_uid: "57008833-33004",
					name: "당근 10kg",
					amount: 100,
					buyer_email: "Iamport@chai.finance",
					buyer_name: "포트원 기술지원팀",
					buyer_tel: "010-1234-5678",
					buyer_addr: "서울특별시 강남구 삼성동",
					buyer_postcode: "123-456",
					m_redirect_url: "./"
				},
			  function (rsp) {
				// callback
				  if(rsp.success){
					  //BE에 데이터 보내주기
					  alert("결제 성공!")
				  } else{
					  alert("결제 실패")
					  console.log(rsp.error_msg)
				  }
				//rsp.imp_uid 값으로 결제 단건조회 API를 호출하여 결제결과를 판단합니다.
			  }
			);
			}			
		</script>
	</head>	
	<body>
		<button onclick = "requestPay()">결제하기</button>		
	</body>
</html>